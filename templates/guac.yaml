stacks:
  - southcom-aqua
  - southcom-finn
  - southcom-coral
  - southcom-nami
  - southcom-pearl
  - southcom-marlin
  - southcom-tide
  - southcom-wave
  - southcom-mex1
  - southcom-mex2
  - southcom-mia
  - southcom-brb
  - southcom-col
  - southcom-per
  - southcom-ecu
  - southcom-chl
  # - southcom-whitecell
  # - persistent_fake_internet

groups:
  # AQUA:
  #   parent: southcom
  # FINN:
  #   parent: southcom
  # CORAL:
  #   parent: southcom
  # NAMI:
  #   parent: southcom
  # PEARL:
  #   parent: southcom
  # MARLIN:
  #   parent: southcom
  # TIDE:
  #   parent: southcom
  # WAVE:
  #   parent: southcom
  # MEX1:
  #   parent: southcom
  # MEX2:
  #   parent: southcom
  # MIA:
  #   parent: southcom
  # BRB:
  #   parent: southcom
  # COL:
  #   parent: southcom
  # PER:
  #   parent: southcom
  # ECU:
  #   parent: southcom
  CHL:
    parent: southcom
  # White:
  #   parent: southcom
  # southcom-red:
  #   parent: ROOT
  # Red:
  #   parent: southcom-red

connectionTemplates:
  # aqua.ent.soc.analyst:
  #   parent: AQUA
  #   protocol: rdp
  #   count: 15
  #   pattern: aqua.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: aqua.south
  # aqua.ent.soc.ubuntu:
  #   parent: AQUA
  #   protocol: ssh
  #   count: 15
  #   pattern: aqua.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: aqua.south
  #     port: 22
  # finn.ent.soc.analyst:
  #   parent: FINN
  #   protocol: rdp
  #   count: 15
  #   pattern: finn.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: finn.south
  # finn.ent.soc.ubuntu:
  #   parent: FINN
  #   protocol: ssh
  #   count: 15
  #   pattern: finn.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: finn.south
  #     port: 22
  # coral.ent.soc.analyst:
  #   parent: CORAL
  #   protocol: rdp
  #   count: 15
  #   pattern: coral.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: coral.south
  # coral.ent.soc.ubuntu:
  #   parent: CORAL
  #   protocol: ssh
  #   count: 15
  #   pattern: coral.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: coral.south
  #     port: 22
  # nami.ent.soc.analyst:
  #   parent: NAMI
  #   protocol: rdp
  #   count: 15
  #   pattern: nami.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: nami.south
  # nami.ent.soc.ubuntu:
  #   parent: NAMI
  #   protocol: ssh
  #   count: 15
  #   pattern: nami.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: nami.south
  #     port: 22
  # pearl.ent.soc.analyst:
  #   parent: PEARL
  #   protocol: rdp
  #   count: 15
  #   pattern: pearl.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: pearl.south
  # pearl.ent.soc.ubuntu:
  #   parent: PEARL
  #   protocol: ssh
  #   count: 15
  #   pattern: pearl.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: pearl.south
  #     port: 22
  # marlin.ent.soc.analyst:
  #   parent: MARLIN
  #   protocol: rdp
  #   count: 15
  #   pattern: marlin.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: marlin.south
  # marlin.ent.soc.ubuntu:
  #   parent: MARLIN
  #   protocol: ssh
  #   count: 15
  #   pattern: marlin.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: marlin.south
  #     port: 22
  # tide.ent.soc.analyst:
  #   parent: TIDE
  #   protocol: rdp
  #   count: 15
  #   pattern: tide.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: tide.south
  # tide.ent.soc.ubuntu:
  #   parent: TIDE
  #   protocol: ssh
  #   count: 15
  #   pattern: tide.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: tide.south
  #     port: 22
  # wave.ent.soc.analyst:
  #   parent: WAVE
  #   protocol: rdp
  #   count: 15
  #   pattern: wave.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: wave.south
  # wave.ent.soc.ubuntu:
  #   parent: WAVE
  #   protocol: ssh
  #   count: 15
  #   pattern: wave.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: wave.south
  #     port: 22
  # mex1.ent.soc.analyst:
  #   parent: MEX1
  #   protocol: rdp
  #   count: 15
  #   pattern: mex1.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: mex1.south
  # mex1.ent.soc.ubuntu:
  #   parent: MEX1
  #   protocol: ssh
  #   count: 15
  #   pattern: mex1.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: mex1.south
  #     port: 22
  # mex2.ent.soc.analyst:
  #   parent: MEX2
  #   protocol: rdp
  #   count: 15
  #   pattern: mex2.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: mex2.south
  # mex2.ent.soc.ubuntu:
  #   parent: MEX2
  #   protocol: ssh
  #   count: 15
  #   pattern: mex2.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: mex2.south
  #     port: 22
  # mia.ent.soc.analyst:
  #   parent: MIA
  #   protocol: rdp
  #   count: 15
  #   pattern: mia.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: mia.south
  # mia.ent.soc.ubuntu:
  #   parent: MIA
  #   protocol: ssh
  #   count: 15
  #   pattern: mia.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: mia.south
  #     port: 22
  # brb.ent.soc.analyst:
  #   parent: BRB
  #   protocol: rdp
  #   count: 15
  #   pattern: brb.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: brb.south
  # brb.ent.soc.ubuntu:
  #   parent: BRB
  #   protocol: ssh
  #   count: 15
  #   pattern: brb.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: brb.south
  #     port: 22
  # col.ent.soc.analyst:
  #   parent: COL
  #   protocol: rdp
  #   count: 15
  #   pattern: col.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: col.south
  # col.ent.soc.ubuntu:
  #   parent: COL
  #   protocol: ssh
  #   count: 15
  #   pattern: col.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: col.south
  #     port: 22
  # per.ent.soc.analyst:
  #   parent: PER
  #   protocol: rdp
  #   count: 15
  #   pattern: per.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: per.south
  # per.ent.soc.ubuntu:
  #   parent: PER
  #   protocol: ssh
  #   count: 15
  #   pattern: per.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: per.south
  #     port: 22
  # ecu.ent.soc.analyst:
  #   parent: ECU
  #   protocol: rdp
  #   count: 15
  #   pattern: ecu.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: ecu.south
  # ecu.ent.soc.ubuntu:
  #   parent: ECU
  #   protocol: ssh
  #   count: 15
  #   pattern: ecu.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: ecu.south
  #     port: 22
  chl.ent.soc.analyst:
    parent: CHL
    protocol: rdp
    count: 15
    pattern: chl.ent.soc.%index%.analyst
    parameters:
      username: soc.analyst%index%
      domain: chl.south
  chl.ent.soc.ubuntu:
    parent: CHL
    protocol: ssh
    count: 15
    pattern: chl.ent.soc.%index%.ubuntu
    parameters:
      username: analyst
      domain: chl.south
      port: 22
  # whitecell.ent.soc.analyst:
  #   parent: White
  #   protocol: rdp
  #   count: 15
  #   pattern: whitecell.ent.soc.%index%.analyst
  #   parameters:
  #     username: soc.analyst%index%
  #     domain: whitecell.south
  # whitecell.ent.soc.ubuntu:
  #   parent: White
  #   protocol: ssh
  #   count: 15
  #   pattern: whitecell.ent.soc.%index%.ubuntu
  #   parameters:
  #     username: analyst
  #     domain: whitecell.south
  #     port: 22
  # internet.red.kali:
  #   parent: Red
  #   protocol: rdp
  #   count: 20
  #   pattern: internet.red.%index%.kali
  #   parameters:
  #     username: redteam
  #     password: r3dt3@m
  # internet.red.ubuntu:
  #   parent: Red
  #   protocol: ssh
  #   count: 20
  #   pattern: internet.red.%index%.ubuntu
  #   parameters:
  #     username: redteam
  #     password: r3dt3@m
  #     port: 22


users:
  # MEX1_user.1:
  #   count: 15
  #   username: MEX1_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - mex1.ent.soc.%index%.ubuntu
  #       - mex1.ent.soc.%index%.analyst
  # MEX1_user.2:
  #   count: 15
  #   username: MEX1_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - aqua.ent.soc.%index%.ubuntu
  #       - aqua.ent.soc.%index%.analyst
  # MEX2_user.1:
  #   count: 15
  #   username: MEX2_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - mex2.ent.soc.%index%.ubuntu
  #       - mex2.ent.soc.%index%.analyst
  # MEX2_user.2:
  #   count: 15
  #   username: MEX2_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - finn.ent.soc.%index%.ubuntu
  #       - finn.ent.soc.%index%.analyst
  # MIA_user.1:
  #   count: 15
  #   username: MIA_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - mia.ent.soc.%index%.ubuntu
  #       - mia.ent.soc.%index%.analyst
  # MIA_user.2:
  #   count: 15
  #   username: MIA_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - coral.ent.soc.%index%.ubuntu
  #       - coral.ent.soc.%index%.analyst
  # BRB_user.1:
  #   count: 15
  #   username: BRB_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - brb.ent.soc.%index%.ubuntu
  #       - brb.ent.soc.%index%.analyst
  # BRB_user.2:
  #   count: 15
  #   username: BRB_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - nami.ent.soc.%index%.ubuntu
  #       - nami.ent.soc.%index%.analyst
  # COL_user.1:
  #   count: 15
  #   username: COL_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - col.ent.soc.%index%.ubuntu
  #       - col.ent.soc.%index%.analyst
  # COL_user.2:
  #   count: 15
  #   username: COL_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - pearl.ent.soc.%index%.ubuntu
  #       - pearl.ent.soc.%index%.analyst
  # PER_user.1:
  #   count: 15
  #   username: PER_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - per.ent.soc.%index%.ubuntu
  #       - per.ent.soc.%index%.analyst
  # PER_user.2:
  #   count: 15
  #   username: PER_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - marlin.ent.soc.%index%.ubuntu
  #       - marlin.ent.soc.%index%.analyst
  # ECU_user.1:
  #   count: 15
  #   username: ECU_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - ecu.ent.soc.%index%.ubuntu
  #       - ecu.ent.soc.%index%.analyst
  # ECU_user.2:
  #   count: 15
  #   username: ECU_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - tide.ent.soc.%index%.ubuntu
  #       - tide.ent.soc.%index%.analyst
  CHL_user.1:
    count: 15
    username: CHL_user.%index%
    password: S0uthPAssw0rd
    permissions:
      connectionPermissions:
        - chl.ent.soc.%index%.ubuntu
        - chl.ent.soc.%index%.analyst
  # CHL_user.2:
  #   count: 15
  #   username: CHL_user.%index%+15
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - wave.ent.soc.%index%.ubuntu
  #       - wave.ent.soc.%index%.analyst
  # White_user:
  #   count: 15
  #   username: White_user.%index%
  #   password: S0uthPAssw0rd
  #   permissions:
  #     connectionPermissions:
  #       - whitecell.ent.soc.%index%.ubuntu
  #       - whitecell.ent.soc.%index%.analyst
  # Red_user:
  #   count: 20
  #   username: Red_user.%index%
  #   password: r3dt3@m
  #   permissions:
  #     connectionPermissions:
  #       - internet.red.%index%.kali
  #       - internet.red.%index%.ubuntu

defaults:
  groups:
    type: ORGANIZATIONAL
    attributes:
      enable-session-affinity: ''
      max-connections: '50'
      max-connections-per-user: '10'

  connectionTemplates:
    protocol: rdp
    parameters:
      port: 3389
      password: S0uthPAssw0rd
      security: any
      ignore-cert: 'true'
      enable-wallpaper: 'true'
      enable-theming: 'true'
    attributes:
      guacd-hostname: guacd
      max-connections: '1'
      max-connections-per-user: '1'
    # sharingProfiles:
    #   - parameters:
    #       read-only: 'true'

  users:
    # password: 'CHANGME'
    attributes: {}
      # guac-organization: cyber-range-testing
    permissions: {}
      # systemPermissions:
        # - ADMINISTER
        # - CREATE_USER
        # - CREATE_USER_GROUP
        # - CREATE_CONNECTION
        # - CREATE_CONNECTION_GROUP
        # - CREATE_SHARING_PROFILE